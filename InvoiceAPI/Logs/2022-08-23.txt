2022-08-23 12:21:55,398 [10] INFO InvoiceAPI.LoggerManager - App  Usuario que solicita el proceso: admin 
2022-08-23 12:21:55,448 [10] INFO InvoiceAPI.LoggerManager - App  Info - Proceso de digestión el archivo con el número de certificado: 30001000000400002434 
2022-08-23 12:21:56,416 [10] INFO InvoiceAPI.LoggerManager - App  Info - El proceso de digestion fue correcto.  
2022-08-23 12:21:56,418 [10] INFO InvoiceAPI.LoggerManager - App  Info - Búsqueda del comprobante en la base de datos. 
2022-08-23 12:21:56,440 [10] INFO InvoiceAPI.LoggerManager - App  Info - Datos del comprobante. Folio: 119, Número de serie del certificado: 00000000000000000000, rfc: EKU9003173C9, Serie: ASCF 
2022-08-23 12:21:56,440 [10] INFO InvoiceAPI.LoggerManager - App  Antes de pasar valor de Oracle o SQL:  2 
2022-08-23 12:21:56,445 [10] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Luna.  
2022-08-23 12:21:56,453 [10] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar el documento con Luna.  
2022-08-23 12:21:56,760 [10] ERROR InvoiceAPI.LoggerManager - App  Error- Ocurrio un error al intentar timbrar el archivo con LUNA. Object reference not set to an instance of an object. 
2022-08-23 12:21:56,761 [10] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Diverza.  
2022-08-23 12:21:56,768 [10] INFO InvoiceAPI.LoggerManager - App  Info - Lo que se enviará al timbrado con Diverza. Usuario: admin. Contenido: {"credentials": {"id":"123414","token": "$2b$12$JgIf1J7db4e6f06VnNPsUOaQD3SpwUnzPqXDkuirQklcc8gMCMIDS" },"issuer": {"rfc": "EKU9003173C9"},"receiver": {"emails": [{"email": "micorreo@hotmail.com","format":"xml+pdf","template": "letter"}]},"document": {"ref-id": "EKU9003173C9ASCF119","certificate-number": "30001000000400002434","section": "all","format": "xml","template": "letter","type": "application/vnd.diverza.cfdi_4.0_complemento+xml","content": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxjZmRpOkNvbXByb2JhbnRlIEV4cG9ydGFjaW9uPSIwMSIgTHVnYXJFeHBlZGljaW9uPSI1MjkzOSIgVGlwb0RlQ29tcHJvYmFudGU9IkkiIE1ldG9kb1BhZ289IlBVRSIgVG90YWw9IjAuMDExNiIgTW9uZWRhPSJNWE4iIFRpcG9DYW1iaW89IjEiIFN1YlRvdGFsPSIwLjAxIiBDZXJ0aWZpY2Fkbz0iTUlJRnV6Q0NBNk9nQXdJQkFnSVVNekF3TURFd01EQXdNREEwTURBd01ESTBNelF3RFFZSktvWklodmNOQVFFTEJRQXdnZ0VyTVE4d0RRWURWUVFEREFaQlF5QlZRVlF4TGpBc0JnTlZCQW9NSlZORlVsWkpRMGxQSUVSRklFRkVUVWxPU1ZOVVVrRkRTVTlPSUZSU1NVSlZWRUZTU1VFeEdqQVlCZ05WQkFzTUVWTkJWQzFKUlZNZ1FYVjBhRzl5YVhSNU1TZ3dKZ1lKS29aSWh2Y05BUWtCRmhsdmMyTmhjaTV0WVhKMGFXNWxla0J6WVhRdVoyOWlMbTE0TVIwd0d3WURWUVFKREJRemNtRWdZMlZ5Y21Ga1lTQmtaU0JqWVdScGVqRU9NQXdHQTFVRUVRd0ZNRFl6TnpBeEN6QUpCZ05WQkFZVEFrMVlNUmt3RndZRFZRUUlEQkJEU1ZWRVFVUWdSRVVnVFVWWVNVTlBNUkV3RHdZRFZRUUhEQWhEVDFsUFFVTkJUakVSTUE4R0ExVUVMUk1JTWk0MUxqUXVORFV4SlRBakJna3Foa2lHOXcwQkNRSVRGbkpsYzNCdmJuTmhZbXhsT2lCQlEwUk5RUzFUUVZRd0hoY05NVGt3TmpFM01UazBOREUwV2hjTk1qTXdOakUzTVRrME5ERTBXakNCNGpFbk1DVUdBMVVFQXhNZVJWTkRWVVZNUVNCTFJVMVFSVklnVlZKSFFWUkZJRk5CSUVSRklFTldNU2N3SlFZRFZRUXBFeDVGVTBOVlJVeEJJRXRGVFZCRlVpQlZVa2RCVkVVZ1UwRWdSRVVnUTFZeEp6QWxCZ05WQkFvVEhrVlRRMVZGVEVFZ1MwVk5VRVZTSUZWU1IwRlVSU0JUUVNCRVJTQkRWakVsTUNNR0ExVUVMUk1jUlV0Vk9UQXdNekUzTTBNNUlDOGdXRWxSUWpnNU1URXhObEZGTkRFZU1Cd0dBMVVFQlJNVklDOGdXRWxSUWpnNU1URXhOazFIVWsxYVVqQTFNUjR3SEFZRFZRUUxFeFZGYzJOMVpXeGhJRXRsYlhCbGNpQlZjbWRoZEdVd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNOMHBlS3BnZk9MNzVpWVJ2MWZxcStvVllzTFBWVVIvR2liWW1HS2M5SW5IRnk1bFlGNk9UWWpuSUl2bWtPZFJvYmJHbENVeE9SWC90THNsOFlhOWdtNllvN2hIbk9EUkJJRHVwM0dJU0Z6Qi85NlI5Sy9NellRT2NzY01Jb0JEQVJheWNuTHZ5N0ZsTXZPNy9ybFZuc1NBUnhaUk84S3o4Wmtrc2oyenBlWXBqWkl5YS8zNjkrb0dxUWsxY1RSa0hvNTlKdko0VGZiay8zaUl5ZjRIL0luaTluQmU5Y1lXbzBNbktvYjdERHQvdnNkaTV0QThtTXRBOTUzTGFwTnlDWklEQ1JRUWxVR05nRHFZOS84RjVtVXZWZ2tjY3pzSWdHZHZmOXZNUVBTZjNqakNpS2o3ajZ1Y3hsMStGd0pXbWJ2Z05taWFVUi8wcTRtMnJtNzhsRkFnTUJBQUdqSFRBYk1Bd0dBMVVkRXdFQi93UUNNQUF3Q3dZRFZSMFBCQVFEQWdiQU1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQmNwajFUalQ0amlpbkl1aklkQWxGekU2a1J3WUpDbkRHMDh6U3A0a1NuU2hqeEFER0VYSDJjaGVoS01WMEZZN2M0bmpBNWVER2RBL0cyT0NUUHZGNXJwZUNaUDVEdzUwNFJaa1lEbDJzdVJ6K3dhMXNOQlZwYm5CSkVLMGZRY04zSWZ0QndzZ05GZEZoVXRDeXczbHVzMVNTSmJQeGpMSFM2RmNaWjUxWVNlSWZjTlhPQXVUcWRpbXVzYVhxMTVHclNyQ09rTTZuMmpmajJzTUpZTTJIWGFYSjZyR1RFZ1ltaFlkd3hXdGlsNlJmWkIrZkdRL0g5STlXTG5sNEtUWlVTNkM5K05MSGg0RlBEaFNrMTlmcFMyUy81NmFxZ0ZvR0FrWEFZdDlGeTVFQ2FQY1VMSWZKMURFYnNYS3lSZEN2M0pZODkrME1Oa09kYURuc2VtUzJvNUdsMDh6STRpWXR0M0w0MGdBWjYwTlBoMzFrVkxuWU5zbXZmTnhZeUtwK0FlSnRESHlXOXc3ZnRNMEhvaStCdVJtY0FRU0tGVjNwazhqNTFsYStqclJCckFVdjhibGJSY1E1QmlaVXdKekhGRUtJd1RzUkdvUnlFeDk2c05uQjAzbjZHVHdqSUd6OTJTbUxkTmw5NXI5cmt2cCsybTRTNnExbFB1WGFGZzdER0JyWFdDOGl5cWVXRTJpb2Jkd0lJdVhQVE1WcVFiMTJtMWRBa0pWUk81TmRIblAvTXBxT3ZPZ0xxb1pCTkhHeUJnNEdxbTRzQ0pIQ3hBMWM4RWxmYTJSUVRDazB0QXpsbEw0dk9uSTFHSGtHSm42NXhva0dzYVU0QjREMzZ4aDdlV3JmajQvcGdXSG10b0RBWWE4d3pTd28yR1ZDWk9zK210RWdPUUI5MS9nPT0iIE5vQ2VydGlmaWNhZG89IjMwMDAxMDAwMDAwNDAwMDAyNDM0IiBGb3JtYVBhZ289IjAxIiBTZWxsbz0iUmxkdUQvVmZBQ0JWUzRXQ1FGU2Yra0daaHAvUnJyRm4zWW0rQ2RiS29SRTBDVDRDRkNZWk5pcUhXUkZDTWEvdkhQVkcwZk1PaXRRUlloRGM1MWVZQ0RUUkRCN3NCTFNRYmtIUndoT2FSeWtEQWJYQjRJbXRLY1dLUHAyOEQ5S0hyekhYeE02VndNTmRvL0ZpU3JEYWxMdFpxbHlqcmJNTE1kWloxZ1ZraUpKNWMzcWptdVlyRDdMbkZwVDh6bU83WDZWR1BJdFlGZy93cHFKQzk2ZVQrWjFqb09id0IwM3hHcitES1d4M21QZ0E3aVlSaTN2enoyT2NkRGg4WjJBdVFLUWszQVkwQzRVTEhNWFpYMU1wUzhJR1luZzh5MkVXZWpJdnRCYUxTam83aXpFamJ5NEh2TjA4WXY1cVMyZ0hhVFRHT2toNzhQRlJ0d21OL21kTkV3PT0iIEZlY2hhPSIyMDIyLTA4LTIzVDEwOjIxOjU4IiBGb2xpbz0iMTE5IiBTZXJpZT0iQVNDRiIgVmVyc2lvbj0iNC4wIiB4c2k6c2NoZW1hTG9jYXRpb249Imh0dHA6Ly93d3cuc2F0LmdvYi5teC9jZmQvNCBodHRwOi8vd3d3LnNhdC5nb2IubXgvc2l0aW9faW50ZXJuZXQvY2ZkLzQvY2ZkdjQwLnhzZCIgeG1sbnM6Y2ZkaT0iaHR0cDovL3d3dy5zYXQuZ29iLm14L2NmZC80IiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIj48Y2ZkaTpFbWlzb3IgUmZjPSJFS1U5MDAzMTczQzkiIE5vbWJyZT0iRVNDVUVMQSBLRU1QRVIgVVJHQVRFIFNBIERFIENWIiBSZWdpbWVuRmlzY2FsPSI2MDEiIC8+PGNmZGk6UmVjZXB0b3IgUmZjPSJYQVhYMDEwMTAxMDAwIiBOb21icmU9IkZPUkQgQ0lBIE1PVE9SIENPTVBBTlkgQ0VOVFJBTCBBQ0NPVU5USU5HIFNFUlZJQ0VTIiBEb21pY2lsaW9GaXNjYWxSZWNlcHRvcj0iNTI5MzkiIFJlZ2ltZW5GaXNjYWxSZWNlcHRvcj0iUzAxIiBVc29DRkRJPSI2MTYiIC8+PGNmZGk6Q29uY2VwdG9zPjxjZmRpOkNvbmNlcHRvIE9iamV0b0ltcD0iMDIiIEltcG9ydGU9IjAuMDEiIFZhbG9yVW5pdGFyaW89IjAuMDEiIERlc2NyaXBjaW9uPSJTSU0gQ0FSRCBWOCBUUklPIEdSQU5FTCBVTkVGT04gU0lNIDg5NTIwMDAwMDAyNTAyMDE4MjI2IiBVbmlkYWQ9IlBpZXphIiBDbGF2ZVVuaWRhZD0iSDg3IiBDYW50aWRhZD0iMS4wMCIgTm9JZGVudGlmaWNhY2lvbj0iODk1MjAwMDAwMDI1MDIwMTgyMjYiIENsYXZlUHJvZFNlcnY9IjQzMjAxNDE1Ij48Y2ZkaTpJbXB1ZXN0b3M+PGNmZGk6VHJhc2xhZG9zPjxjZmRpOlRyYXNsYWRvIEltcG9ydGU9IjAuMDEiIFRhc2FPQ3VvdGE9IjAuMTYwMDAwIiBUaXBvRmFjdG9yPSJUYXNhIiBJbXB1ZXN0bz0iMDAyIiBCYXNlPSIwLjAwMTYiIC8+PC9jZmRpOlRyYXNsYWRvcz48L2NmZGk6SW1wdWVzdG9zPjwvY2ZkaTpDb25jZXB0bz48L2NmZGk6Q29uY2VwdG9zPjxjZmRpOkltcHVlc3RvcyBUb3RhbEltcHVlc3Rvc1RyYXNsYWRhZG9zPSIwLjAwMTYiPjxjZmRpOlRyYXNsYWRvcz48Y2ZkaTpUcmFzbGFkbyBJbXBvcnRlPSIwLjAxIiBUYXNhT0N1b3RhPSIwLjE2MDAwMCIgVGlwb0ZhY3Rvcj0iVGFzYSIgSW1wdWVzdG89IjAwMiIgQmFzZT0iMC4wMDE2IiAvPjwvY2ZkaTpUcmFzbGFkb3M+PC9jZmRpOkltcHVlc3Rvcz48L2NmZGk6Q29tcHJvYmFudGU+"}} 
2022-08-23 12:21:56,780 [10] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar con Diverza.  
2022-08-23 12:21:56,780 [10] INFO InvoiceAPI.LoggerManager - App  Info - Request enviado: System.Net.Http.StringContent 
2022-08-23 12:21:57,302 [10] INFO InvoiceAPI.LoggerManager - App  Info - Response recibido: StatusCode: 500, ReasonPhrase: 'Internal Server Error', Version: 1.1, Content: System.Net.Http.HttpConnection+HttpConnectionResponseContent, Headers:
{
  Date: Tue, 23 Aug 2022 17:21:59 GMT
  Server: Cowboy
  Connection: close
  Content-Length: 0
  Content-Type: text/html; charset=UTF-8
} 
2022-08-23 12:21:57,312 [10] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza. Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:21:57,366 [10] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza.    at Newtonsoft.Json.Linq.JObject.Load(JsonReader reader, JsonLoadSettings settings)
   at Newtonsoft.Json.Linq.JObject.Parse(String json, JsonLoadSettings settings)
   at InvoiceAPI.Controllers.InvoicesController.EnvioTimbrarDiverza(ContenidoTimbrarDTO contenidoTimbrar, String usuario) in C:\Users\Administrator\source\repos\InvoiceAPI_4.0_adicion\InvoiceAPI\Controllers\InvoicesController.cs:line 610 
2022-08-23 12:21:57,367 [10] ERROR InvoiceAPI.LoggerManager - App  Error - No se pudo realizar el timbrado con Diverza.  
2022-08-23 12:21:57,368 [10] ERROR InvoiceAPI.LoggerManager - App  Error - código: 1000 
2022-08-23 12:21:57,369 [10] ERROR InvoiceAPI.LoggerManager - App  Error - detalle:  
2022-08-23 12:21:57,370 [10] ERROR InvoiceAPI.LoggerManager - App  Error - message: Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:22:42,172 [10] INFO InvoiceAPI.LoggerManager - App  Usuario que solicita el proceso: admin 
2022-08-23 12:24:38,404 [10] INFO InvoiceAPI.LoggerManager - App  Info - Proceso de digestión el archivo con el número de certificado: 30001000000400002434 
2022-08-23 12:26:23,400 [10] INFO InvoiceAPI.LoggerManager - App  Info - El proceso de digestion fue correcto.  
2022-08-23 12:26:59,222 [10] INFO InvoiceAPI.LoggerManager - App  Info - Búsqueda del comprobante en la base de datos. 
2022-08-23 12:26:59,252 [10] INFO InvoiceAPI.LoggerManager - App  Info - Datos del comprobante. Folio: 119, Número de serie del certificado: 00000000000000000000, rfc: EKU9003173C9, Serie: ASCF 
2022-08-23 12:26:59,256 [10] INFO InvoiceAPI.LoggerManager - App  Antes de pasar valor de Oracle o SQL:  2 
2022-08-23 12:27:16,468 [10] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Luna.  
2022-08-23 12:27:33,912 [10] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar el documento con Luna.  
2022-08-23 12:28:12,874 [10] ERROR InvoiceAPI.LoggerManager - App  Error- Ocurrio un error al intentar timbrar el archivo con LUNA. Object reference not set to an instance of an object. 
2022-08-23 12:28:23,780 [10] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Diverza.  
2022-08-23 12:28:36,080 [10] INFO InvoiceAPI.LoggerManager - App  Info - Lo que se enviará al timbrado con Diverza. Usuario: admin. Contenido: {"credentials": {"id":"123414","token": "$2b$12$JgIf1J7db4e6f06VnNPsUOaQD3SpwUnzPqXDkuirQklcc8gMCMIDS" },"issuer": {"rfc": "EKU9003173C9"},"receiver": {"emails": [{"email": "micorreo@hotmail.com","format":"xml+pdf","template": "letter"}]},"document": {"ref-id": "EKU9003173C9ASCF119","certificate-number": "30001000000400002434","section": "all","format": "xml","template": "letter","type": "application/vnd.diverza.cfdi_4.0_complemento+xml","content": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxjZmRpOkNvbXByb2JhbnRlIEV4cG9ydGFjaW9uPSIwMSIgTHVnYXJFeHBlZGljaW9uPSI1MjkzOSIgVGlwb0RlQ29tcHJvYmFudGU9IkkiIE1ldG9kb1BhZ289IlBVRSIgVG90YWw9IjAuMDExNiIgTW9uZWRhPSJNWE4iIFRpcG9DYW1iaW89IjEiIFN1YlRvdGFsPSIwLjAxIiBDZXJ0aWZpY2Fkbz0iTUlJRnV6Q0NBNk9nQXdJQkFnSVVNekF3TURFd01EQXdNREEwTURBd01ESTBNelF3RFFZSktvWklodmNOQVFFTEJRQXdnZ0VyTVE4d0RRWURWUVFEREFaQlF5QlZRVlF4TGpBc0JnTlZCQW9NSlZORlVsWkpRMGxQSUVSRklFRkVUVWxPU1ZOVVVrRkRTVTlPSUZSU1NVSlZWRUZTU1VFeEdqQVlCZ05WQkFzTUVWTkJWQzFKUlZNZ1FYVjBhRzl5YVhSNU1TZ3dKZ1lKS29aSWh2Y05BUWtCRmhsdmMyTmhjaTV0WVhKMGFXNWxla0J6WVhRdVoyOWlMbTE0TVIwd0d3WURWUVFKREJRemNtRWdZMlZ5Y21Ga1lTQmtaU0JqWVdScGVqRU9NQXdHQTFVRUVRd0ZNRFl6TnpBeEN6QUpCZ05WQkFZVEFrMVlNUmt3RndZRFZRUUlEQkJEU1ZWRVFVUWdSRVVnVFVWWVNVTlBNUkV3RHdZRFZRUUhEQWhEVDFsUFFVTkJUakVSTUE4R0ExVUVMUk1JTWk0MUxqUXVORFV4SlRBakJna3Foa2lHOXcwQkNRSVRGbkpsYzNCdmJuTmhZbXhsT2lCQlEwUk5RUzFUUVZRd0hoY05NVGt3TmpFM01UazBOREUwV2hjTk1qTXdOakUzTVRrME5ERTBXakNCNGpFbk1DVUdBMVVFQXhNZVJWTkRWVVZNUVNCTFJVMVFSVklnVlZKSFFWUkZJRk5CSUVSRklFTldNU2N3SlFZRFZRUXBFeDVGVTBOVlJVeEJJRXRGVFZCRlVpQlZVa2RCVkVVZ1UwRWdSRVVnUTFZeEp6QWxCZ05WQkFvVEhrVlRRMVZGVEVFZ1MwVk5VRVZTSUZWU1IwRlVSU0JUUVNCRVJTQkRWakVsTUNNR0ExVUVMUk1jUlV0Vk9UQXdNekUzTTBNNUlDOGdXRWxSUWpnNU1URXhObEZGTkRFZU1Cd0dBMVVFQlJNVklDOGdXRWxSUWpnNU1URXhOazFIVWsxYVVqQTFNUjR3SEFZRFZRUUxFeFZGYzJOMVpXeGhJRXRsYlhCbGNpQlZjbWRoZEdVd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNOMHBlS3BnZk9MNzVpWVJ2MWZxcStvVllzTFBWVVIvR2liWW1HS2M5SW5IRnk1bFlGNk9UWWpuSUl2bWtPZFJvYmJHbENVeE9SWC90THNsOFlhOWdtNllvN2hIbk9EUkJJRHVwM0dJU0Z6Qi85NlI5Sy9NellRT2NzY01Jb0JEQVJheWNuTHZ5N0ZsTXZPNy9ybFZuc1NBUnhaUk84S3o4Wmtrc2oyenBlWXBqWkl5YS8zNjkrb0dxUWsxY1RSa0hvNTlKdko0VGZiay8zaUl5ZjRIL0luaTluQmU5Y1lXbzBNbktvYjdERHQvdnNkaTV0QThtTXRBOTUzTGFwTnlDWklEQ1JRUWxVR05nRHFZOS84RjVtVXZWZ2tjY3pzSWdHZHZmOXZNUVBTZjNqakNpS2o3ajZ1Y3hsMStGd0pXbWJ2Z05taWFVUi8wcTRtMnJtNzhsRkFnTUJBQUdqSFRBYk1Bd0dBMVVkRXdFQi93UUNNQUF3Q3dZRFZSMFBCQVFEQWdiQU1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQmNwajFUalQ0amlpbkl1aklkQWxGekU2a1J3WUpDbkRHMDh6U3A0a1NuU2hqeEFER0VYSDJjaGVoS01WMEZZN2M0bmpBNWVER2RBL0cyT0NUUHZGNXJwZUNaUDVEdzUwNFJaa1lEbDJzdVJ6K3dhMXNOQlZwYm5CSkVLMGZRY04zSWZ0QndzZ05GZEZoVXRDeXczbHVzMVNTSmJQeGpMSFM2RmNaWjUxWVNlSWZjTlhPQXVUcWRpbXVzYVhxMTVHclNyQ09rTTZuMmpmajJzTUpZTTJIWGFYSjZyR1RFZ1ltaFlkd3hXdGlsNlJmWkIrZkdRL0g5STlXTG5sNEtUWlVTNkM5K05MSGg0RlBEaFNrMTlmcFMyUy81NmFxZ0ZvR0FrWEFZdDlGeTVFQ2FQY1VMSWZKMURFYnNYS3lSZEN2M0pZODkrME1Oa09kYURuc2VtUzJvNUdsMDh6STRpWXR0M0w0MGdBWjYwTlBoMzFrVkxuWU5zbXZmTnhZeUtwK0FlSnRESHlXOXc3ZnRNMEhvaStCdVJtY0FRU0tGVjNwazhqNTFsYStqclJCckFVdjhibGJSY1E1QmlaVXdKekhGRUtJd1RzUkdvUnlFeDk2c05uQjAzbjZHVHdqSUd6OTJTbUxkTmw5NXI5cmt2cCsybTRTNnExbFB1WGFGZzdER0JyWFdDOGl5cWVXRTJpb2Jkd0lJdVhQVE1WcVFiMTJtMWRBa0pWUk81TmRIblAvTXBxT3ZPZ0xxb1pCTkhHeUJnNEdxbTRzQ0pIQ3hBMWM4RWxmYTJSUVRDazB0QXpsbEw0dk9uSTFHSGtHSm42NXhva0dzYVU0QjREMzZ4aDdlV3JmajQvcGdXSG10b0RBWWE4d3pTd28yR1ZDWk9zK210RWdPUUI5MS9nPT0iIE5vQ2VydGlmaWNhZG89IjMwMDAxMDAwMDAwNDAwMDAyNDM0IiBGb3JtYVBhZ289IjAxIiBTZWxsbz0iUmxkdUQvVmZBQ0JWUzRXQ1FGU2Yra0daaHAvUnJyRm4zWW0rQ2RiS29SRTBDVDRDRkNZWk5pcUhXUkZDTWEvdkhQVkcwZk1PaXRRUlloRGM1MWVZQ0RUUkRCN3NCTFNRYmtIUndoT2FSeWtEQWJYQjRJbXRLY1dLUHAyOEQ5S0hyekhYeE02VndNTmRvL0ZpU3JEYWxMdFpxbHlqcmJNTE1kWloxZ1ZraUpKNWMzcWptdVlyRDdMbkZwVDh6bU83WDZWR1BJdFlGZy93cHFKQzk2ZVQrWjFqb09id0IwM3hHcitES1d4M21QZ0E3aVlSaTN2enoyT2NkRGg4WjJBdVFLUWszQVkwQzRVTEhNWFpYMU1wUzhJR1luZzh5MkVXZWpJdnRCYUxTam83aXpFamJ5NEh2TjA4WXY1cVMyZ0hhVFRHT2toNzhQRlJ0d21OL21kTkV3PT0iIEZlY2hhPSIyMDIyLTA4LTIzVDEwOjIxOjU4IiBGb2xpbz0iMTE5IiBTZXJpZT0iQVNDRiIgVmVyc2lvbj0iNC4wIiB4c2k6c2NoZW1hTG9jYXRpb249Imh0dHA6Ly93d3cuc2F0LmdvYi5teC9jZmQvNCBodHRwOi8vd3d3LnNhdC5nb2IubXgvc2l0aW9faW50ZXJuZXQvY2ZkLzQvY2ZkdjQwLnhzZCIgeG1sbnM6Y2ZkaT0iaHR0cDovL3d3dy5zYXQuZ29iLm14L2NmZC80IiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIj48Y2ZkaTpFbWlzb3IgUmZjPSJFS1U5MDAzMTczQzkiIE5vbWJyZT0iRVNDVUVMQSBLRU1QRVIgVVJHQVRFIFNBIERFIENWIiBSZWdpbWVuRmlzY2FsPSI2MDEiIC8+PGNmZGk6UmVjZXB0b3IgUmZjPSJYQVhYMDEwMTAxMDAwIiBOb21icmU9IkZPUkQgQ0lBIE1PVE9SIENPTVBBTlkgQ0VOVFJBTCBBQ0NPVU5USU5HIFNFUlZJQ0VTIiBEb21pY2lsaW9GaXNjYWxSZWNlcHRvcj0iNTI5MzkiIFJlZ2ltZW5GaXNjYWxSZWNlcHRvcj0iUzAxIiBVc29DRkRJPSI2MTYiIC8+PGNmZGk6Q29uY2VwdG9zPjxjZmRpOkNvbmNlcHRvIE9iamV0b0ltcD0iMDIiIEltcG9ydGU9IjAuMDEiIFZhbG9yVW5pdGFyaW89IjAuMDEiIERlc2NyaXBjaW9uPSJTSU0gQ0FSRCBWOCBUUklPIEdSQU5FTCBVTkVGT04gU0lNIDg5NTIwMDAwMDAyNTAyMDE4MjI2IiBVbmlkYWQ9IlBpZXphIiBDbGF2ZVVuaWRhZD0iSDg3IiBDYW50aWRhZD0iMS4wMCIgTm9JZGVudGlmaWNhY2lvbj0iODk1MjAwMDAwMDI1MDIwMTgyMjYiIENsYXZlUHJvZFNlcnY9IjQzMjAxNDE1Ij48Y2ZkaTpJbXB1ZXN0b3M+PGNmZGk6VHJhc2xhZG9zPjxjZmRpOlRyYXNsYWRvIEltcG9ydGU9IjAuMDEiIFRhc2FPQ3VvdGE9IjAuMTYwMDAwIiBUaXBvRmFjdG9yPSJUYXNhIiBJbXB1ZXN0bz0iMDAyIiBCYXNlPSIwLjAwMTYiIC8+PC9jZmRpOlRyYXNsYWRvcz48L2NmZGk6SW1wdWVzdG9zPjwvY2ZkaTpDb25jZXB0bz48L2NmZGk6Q29uY2VwdG9zPjxjZmRpOkltcHVlc3RvcyBUb3RhbEltcHVlc3Rvc1RyYXNsYWRhZG9zPSIwLjAwMTYiPjxjZmRpOlRyYXNsYWRvcz48Y2ZkaTpUcmFzbGFkbyBJbXBvcnRlPSIwLjAxIiBUYXNhT0N1b3RhPSIwLjE2MDAwMCIgVGlwb0ZhY3Rvcj0iVGFzYSIgSW1wdWVzdG89IjAwMiIgQmFzZT0iMC4wMDE2IiAvPjwvY2ZkaTpUcmFzbGFkb3M+PC9jZmRpOkltcHVlc3Rvcz48L2NmZGk6Q29tcHJvYmFudGU+"}} 
2022-08-23 12:28:37,124 [10] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar con Diverza.  
2022-08-23 12:28:37,129 [10] INFO InvoiceAPI.LoggerManager - App  Info - Request enviado: System.Net.Http.StringContent 
2022-08-23 12:28:37,526 [10] INFO InvoiceAPI.LoggerManager - App  Info - Response recibido: StatusCode: 500, ReasonPhrase: 'Internal Server Error', Version: 1.1, Content: System.Net.Http.HttpConnection+HttpConnectionResponseContent, Headers:
{
  Date: Tue, 23 Aug 2022 17:28:39 GMT
  Server: Cowboy
  Connection: close
  Content-Length: 0
  Content-Type: text/html; charset=UTF-8
} 
2022-08-23 12:28:37,557 [10] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza. Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:28:37,590 [10] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza.    at Newtonsoft.Json.Linq.JObject.Load(JsonReader reader, JsonLoadSettings settings)
   at Newtonsoft.Json.Linq.JObject.Parse(String json, JsonLoadSettings settings)
   at InvoiceAPI.Controllers.InvoicesController.EnvioTimbrarDiverza(ContenidoTimbrarDTO contenidoTimbrar, String usuario) in C:\Users\Administrator\source\repos\InvoiceAPI_4.0_adicion\InvoiceAPI\Controllers\InvoicesController.cs:line 614 
2022-08-23 12:28:42,944 [10] ERROR InvoiceAPI.LoggerManager - App  Error - No se pudo realizar el timbrado con Diverza.  
2022-08-23 12:28:43,193 [10] ERROR InvoiceAPI.LoggerManager - App  Error - código: 1000 
2022-08-23 12:28:43,451 [10] ERROR InvoiceAPI.LoggerManager - App  Error - detalle:  
2022-08-23 12:28:43,705 [10] ERROR InvoiceAPI.LoggerManager - App  Error - message: Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:35:31,294 [45] INFO InvoiceAPI.LoggerManager - App  Usuario que solicita el proceso: admin 
2022-08-23 12:35:33,450 [45] INFO InvoiceAPI.LoggerManager - App  Info - Proceso de digestión el archivo con el número de certificado: 30001000000400002434 
2022-08-23 12:35:37,143 [45] INFO InvoiceAPI.LoggerManager - App  Info - El proceso de digestion fue correcto.  
2022-08-23 12:35:37,147 [45] INFO InvoiceAPI.LoggerManager - App  Info - Búsqueda del comprobante en la base de datos. 
2022-08-23 12:35:37,148 [45] INFO InvoiceAPI.LoggerManager - App  Info - Datos del comprobante. Folio: 119, Número de serie del certificado: 30001000000400002434, rfc: EKU9003173C9, Serie: ASCF 
2022-08-23 12:35:37,148 [45] INFO InvoiceAPI.LoggerManager - App  Antes de pasar valor de Oracle o SQL:  2 
2022-08-23 12:35:37,946 [45] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Luna.  
2022-08-23 12:35:38,708 [45] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar el documento con Luna.  
2022-08-23 12:35:39,487 [45] ERROR InvoiceAPI.LoggerManager - App  Error- Ocurrio un error al intentar timbrar el archivo con LUNA. Object reference not set to an instance of an object. 
2022-08-23 12:35:39,488 [45] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Diverza.  
2022-08-23 12:35:39,568 [45] INFO InvoiceAPI.LoggerManager - App  Info - Lo que se enviará al timbrado con Diverza. Usuario: admin. Contenido: {"credentials": {"id":"123414","token": "$2b$12$JgIf1J7db4e6f06VnNPsUOaQD3SpwUnzPqXDkuirQklcc8gMCMIDS" },"issuer": {"rfc": "EKU9003173C9"},"receiver": {"emails": [{"email": "micorreo@hotmail.com","format":"xml+pdf","template": "letter"}]},"document": {"ref-id": "EKU9003173C9ASCF119","certificate-number": "30001000000400002434","section": "all","format": "xml","template": "letter","type": "application/vnd.diverza.cfdi_4.0_complemento+xml","content": "PGNmZGk6Q29tcHJvYmFudGUgRXhwb3J0YWNpb249IjAxIiBMdWdhckV4cGVkaWNpb249IjUyOTM5IiBUaXBvRGVDb21wcm9iYW50ZT0iSSIgTWV0b2RvUGFnbz0iUFVFIiBUb3RhbD0iMC4wMTE2IiBNb25lZGE9Ik1YTiIgVGlwb0NhbWJpbz0iMSIgU3ViVG90YWw9IjAuMDEiIENlcnRpZmljYWRvPSJNSUlGdXpDQ0E2T2dBd0lCQWdJVU16QXdNREV3TURBd01EQTBNREF3TURJME16UXdEUVlKS29aSWh2Y05BUUVMQlFBd2dnRXJNUTh3RFFZRFZRUUREQVpCUXlCVlFWUXhMakFzQmdOVkJBb01KVk5GVWxaSlEwbFBJRVJGSUVGRVRVbE9TVk5VVWtGRFNVOU9JRlJTU1VKVlZFRlNTVUV4R2pBWUJnTlZCQXNNRVZOQlZDMUpSVk1nUVhWMGFHOXlhWFI1TVNnd0pnWUpLb1pJaHZjTkFRa0JGaGx2YzJOaGNpNXRZWEowYVc1bGVrQnpZWFF1WjI5aUxtMTRNUjB3R3dZRFZRUUpEQlF6Y21FZ1kyVnljbUZrWVNCa1pTQmpZV1JwZWpFT01Bd0dBMVVFRVF3Rk1EWXpOekF4Q3pBSkJnTlZCQVlUQWsxWU1Sa3dGd1lEVlFRSURCQkRTVlZFUVVRZ1JFVWdUVVZZU1VOUE1SRXdEd1lEVlFRSERBaERUMWxQUVVOQlRqRVJNQThHQTFVRUxSTUlNaTQxTGpRdU5EVXhKVEFqQmdrcWhraUc5dzBCQ1FJVEZuSmxjM0J2Ym5OaFlteGxPaUJCUTBSTlFTMVRRVlF3SGhjTk1Ua3dOakUzTVRrME5ERTBXaGNOTWpNd05qRTNNVGswTkRFMFdqQ0I0akVuTUNVR0ExVUVBeE1lUlZORFZVVk1RU0JMUlUxUVJWSWdWVkpIUVZSRklGTkJJRVJGSUVOV01TY3dKUVlEVlFRcEV4NUZVME5WUlV4QklFdEZUVkJGVWlCVlVrZEJWRVVnVTBFZ1JFVWdRMVl4SnpBbEJnTlZCQW9USGtWVFExVkZURUVnUzBWTlVFVlNJRlZTUjBGVVJTQlRRU0JFUlNCRFZqRWxNQ01HQTFVRUxSTWNSVXRWT1RBd016RTNNME01SUM4Z1dFbFJRamc1TVRFeE5sRkZOREVlTUJ3R0ExVUVCUk1WSUM4Z1dFbFJRamc1TVRFeE5rMUhVazFhVWpBMU1SNHdIQVlEVlFRTEV4VkZjMk4xWld4aElFdGxiWEJsY2lCVmNtZGhkR1V3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ04wcGVLcGdmT0w3NWlZUnYxZnFxK29WWXNMUFZVUi9HaWJZbUdLYzlJbkhGeTVsWUY2T1RZam5JSXZta09kUm9iYkdsQ1V4T1JYL3RMc2w4WWE5Z202WW83aEhuT0RSQklEdXAzR0lTRnpCLzk2UjlLL016WVFPY3NjTUlvQkRBUmF5Y25Mdnk3RmxNdk83L3JsVm5zU0FSeFpSTzhLejhaa2tzajJ6cGVZcGpaSXlhLzM2OStvR3FRazFjVFJrSG81OUp2SjRUZmJrLzNpSXlmNEgvSW5pOW5CZTljWVdvME1uS29iN0REdC92c2RpNXRBOG1NdEE5NTNMYXBOeUNaSURDUlFRbFVHTmdEcVk5LzhGNW1VdlZna2NjenNJZ0dkdmY5dk1RUFNmM2pqQ2lLajdqNnVjeGwxK0Z3SldtYnZnTm1pYVVSLzBxNG0ycm03OGxGQWdNQkFBR2pIVEFiTUF3R0ExVWRFd0VCL3dRQ01BQXdDd1lEVlIwUEJBUURBZ2JBTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCY3BqMVRqVDRqaWluSXVqSWRBbEZ6RTZrUndZSkNuREcwOHpTcDRrU25TaGp4QURHRVhIMmNoZWhLTVYwRlk3YzRuakE1ZURHZEEvRzJPQ1RQdkY1cnBlQ1pQNUR3NTA0UlprWURsMnN1Unord2Exc05CVnBibkJKRUswZlFjTjNJZnRCd3NnTkZkRmhVdEN5dzNsdXMxU1NKYlB4akxIUzZGY1paNTFZU2VJZmNOWE9BdVRxZGltdXNhWHExNUdyU3JDT2tNNm4yamZqMnNNSllNMkhYYVhKNnJHVEVnWW1oWWR3eFd0aWw2UmZaQitmR1EvSDlJOVdMbmw0S1RaVVM2QzkrTkxIaDRGUERoU2sxOWZwUzJTLzU2YXFnRm9HQWtYQVl0OUZ5NUVDYVBjVUxJZkoxREVic1hLeVJkQ3YzSlk4OSswTU5rT2RhRG5zZW1TMm81R2wwOHpJNGlZdHQzTDQwZ0FaNjBOUGgzMWtWTG5ZTnNtdmZOeFl5S3ArQWVKdERIeVc5dzdmdE0wSG9pK0J1Um1jQVFTS0ZWM3BrOGo1MWxhK2pyUkJyQVV2OGJsYlJjUTVCaVpVd0p6SEZFS0l3VHNSR29SeUV4OTZzTm5CMDNuNkdUd2pJR3o5MlNtTGRObDk1cjlya3ZwKzJtNFM2cTFsUHVYYUZnN0RHQnJYV0M4aXlxZVdFMmlvYmR3SUl1WFBUTVZxUWIxMm0xZEFrSlZSTzVOZEhuUC9NcHFPdk9nTHFvWkJOSEd5Qmc0R3FtNHNDSkhDeEExYzhFbGZhMlJRVENrMHRBemxsTDR2T25JMUdIa0dKbjY1eG9rR3NhVTRCNEQzNnhoN2VXcmZqNC9wZ1dIbXRvREFZYTh3elN3bzJHVkNaT3MrbXRFZ09RQjkxL2c9PSIgTm9DZXJ0aWZpY2Fkbz0iMzAwMDEwMDAwMDA0MDAwMDI0MzQiIEZvcm1hUGFnbz0iMDEiIFNlbGxvPSJSbGR1RC9WZkFDQlZTNFdDUUZTZitrR1pocC9ScnJGbjNZbStDZGJLb1JFMENUNENGQ1laTmlxSFdSRkNNYS92SFBWRzBmTU9pdFFSWWhEYzUxZVlDRFRSREI3c0JMU1Fia0hSd2hPYVJ5a0RBYlhCNEltdEtjV0tQcDI4RDlLSHJ6SFh4TTZWd01OZG8vRmlTckRhbEx0WnFseWpyYk1MTWRaWjFnVmtpSko1YzNxam11WXJEN0xuRnBUOHptTzdYNlZHUEl0WUZnL3dwcUpDOTZlVCtaMWpvT2J3QjAzeEdyK0RLV3gzbVBnQTdpWVJpM3Z6ejJPY2REaDhaMkF1UUtRazNBWTBDNFVMSE1YWlgxTXBTOElHWW5nOHkyRVdlakl2dEJhTFNqbzdpekVqYnk0SHZOMDhZdjVxUzJnSGFUVEdPa2g3OFBGUnR3bU4vbWRORXc9PSIgRmVjaGE9IjIwMjItMDgtMjNUMTA6MjE6NTgiIEZvbGlvPSIxMTkiIFNlcmllPSJBU0NGIiBWZXJzaW9uPSI0LjAiIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL3d3dy5zYXQuZ29iLm14L2NmZC80IGh0dHA6Ly93d3cuc2F0LmdvYi5teC9zaXRpb19pbnRlcm5ldC9jZmQvNC9jZmR2NDAueHNkIiB4bWxuczpjZmRpPSJodHRwOi8vd3d3LnNhdC5nb2IubXgvY2ZkLzQiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxjZmRpOkVtaXNvciBSZmM9IkVLVTkwMDMxNzNDOSIgTm9tYnJlPSJFU0NVRUxBIEtFTVBFUiBVUkdBVEUgU0EgREUgQ1YiIFJlZ2ltZW5GaXNjYWw9IjYwMSIgLz48Y2ZkaTpSZWNlcHRvciBSZmM9IlhBWFgwMTAxMDEwMDAiIE5vbWJyZT0iRk9SRCBDSUEgTU9UT1IgQ09NUEFOWSBDRU5UUkFMIEFDQ09VTlRJTkcgU0VSVklDRVMiIERvbWljaWxpb0Zpc2NhbFJlY2VwdG9yPSI1MjkzOSIgUmVnaW1lbkZpc2NhbFJlY2VwdG9yPSJTMDEiIFVzb0NGREk9IjYxNiIgLz48Y2ZkaTpDb25jZXB0b3M+PGNmZGk6Q29uY2VwdG8gT2JqZXRvSW1wPSIwMiIgSW1wb3J0ZT0iMC4wMSIgVmFsb3JVbml0YXJpbz0iMC4wMSIgRGVzY3JpcGNpb249IlNJTSBDQVJEIFY4IFRSSU8gR1JBTkVMIFVORUZPTiBTSU0gODk1MjAwMDAwMDI1MDIwMTgyMjYiIFVuaWRhZD0iUGllemEiIENsYXZlVW5pZGFkPSJIODciIENhbnRpZGFkPSIxLjAwIiBOb0lkZW50aWZpY2FjaW9uPSI4OTUyMDAwMDAwMjUwMjAxODIyNiIgQ2xhdmVQcm9kU2Vydj0iNDMyMDE0MTUiPjxjZmRpOkltcHVlc3Rvcz48Y2ZkaTpUcmFzbGFkb3M+PGNmZGk6VHJhc2xhZG8gSW1wb3J0ZT0iMC4wMSIgVGFzYU9DdW90YT0iMC4xNjAwMDAiIFRpcG9GYWN0b3I9IlRhc2EiIEltcHVlc3RvPSIwMDIiIEJhc2U9IjAuMDAxNiIgLz48L2NmZGk6VHJhc2xhZG9zPjwvY2ZkaTpJbXB1ZXN0b3M+PC9jZmRpOkNvbmNlcHRvPjwvY2ZkaTpDb25jZXB0b3M+PGNmZGk6SW1wdWVzdG9zIFRvdGFsSW1wdWVzdG9zVHJhc2xhZGFkb3M9IjAuMDAxNiI+PGNmZGk6VHJhc2xhZG9zPjxjZmRpOlRyYXNsYWRvIEltcG9ydGU9IjAuMDEiIFRhc2FPQ3VvdGE9IjAuMTYwMDAwIiBUaXBvRmFjdG9yPSJUYXNhIiBJbXB1ZXN0bz0iMDAyIiBCYXNlPSIwLjAwMTYiIC8+PC9jZmRpOlRyYXNsYWRvcz48L2NmZGk6SW1wdWVzdG9zPjwvY2ZkaTpDb21wcm9iYW50ZT4="}} 
2022-08-23 12:35:39,569 [45] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar con Diverza.  
2022-08-23 12:35:39,569 [45] INFO InvoiceAPI.LoggerManager - App  Info - Request enviado: System.Net.Http.StringContent 
2022-08-23 12:35:39,988 [45] INFO InvoiceAPI.LoggerManager - App  Info - Response recibido: StatusCode: 500, ReasonPhrase: 'Internal Server Error', Version: 1.1, Content: System.Net.Http.HttpConnection+HttpConnectionResponseContent, Headers:
{
  Date: Tue, 23 Aug 2022 17:35:42 GMT
  Server: Cowboy
  Connection: close
  Content-Length: 0
  Content-Type: text/html; charset=UTF-8
} 
2022-08-23 12:35:40,030 [45] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza. Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:35:40,031 [45] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza.    at Newtonsoft.Json.Linq.JObject.Load(JsonReader reader, JsonLoadSettings settings)
   at Newtonsoft.Json.Linq.JObject.Parse(String json, JsonLoadSettings settings)
   at InvoiceAPI.Controllers.InvoicesController.EnvioTimbrarDiverza(ContenidoTimbrarDTO contenidoTimbrar, String usuario) in C:\Users\Administrator\source\repos\InvoiceAPI_4.0_adicion\InvoiceAPI\Controllers\InvoicesController.cs:line 614 
2022-08-23 12:35:40,037 [45] ERROR InvoiceAPI.LoggerManager - App  Error - No se pudo realizar el timbrado con Diverza.  
2022-08-23 12:35:40,037 [45] ERROR InvoiceAPI.LoggerManager - App  Error - código: 1000 
2022-08-23 12:35:40,038 [45] ERROR InvoiceAPI.LoggerManager - App  Error - detalle:  
2022-08-23 12:35:40,038 [45] ERROR InvoiceAPI.LoggerManager - App  Error - message: Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:36:47,748 [9] INFO InvoiceAPI.LoggerManager - App  Usuario que solicita el proceso: admin 
2022-08-23 12:36:52,432 [9] INFO InvoiceAPI.LoggerManager - App  Info - Proceso de digestión el archivo con el número de certificado: 30001000000400002434 
2022-08-23 12:36:58,311 [9] INFO InvoiceAPI.LoggerManager - App  Info - El proceso de digestion fue correcto.  
2022-08-23 12:36:58,321 [9] INFO InvoiceAPI.LoggerManager - App  Info - Búsqueda del comprobante en la base de datos. 
2022-08-23 12:36:58,351 [9] INFO InvoiceAPI.LoggerManager - App  Info - Datos del comprobante. Folio: 119, Número de serie del certificado: 30001000000400002434, rfc: EKU9003173C9, Serie: ASCF 
2022-08-23 12:36:58,356 [9] INFO InvoiceAPI.LoggerManager - App  Antes de pasar valor de Oracle o SQL:  2 
2022-08-23 12:36:58,364 [9] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Diverza.  
2022-08-23 12:36:59,644 [9] INFO InvoiceAPI.LoggerManager - App  Info - Lo que se enviará al timbrado con Diverza. Usuario: admin. Contenido: {"credentials": {"id":"123414","token": "$2b$12$JgIf1J7db4e6f06VnNPsUOaQD3SpwUnzPqXDkuirQklcc8gMCMIDS" },"issuer": {"rfc": "EKU9003173C9"},"receiver": {"emails": [{"email": "micorreo@hotmail.com","format":"xml+pdf","template": "letter"}]},"document": {"ref-id": "EKU9003173C9ASCF119","certificate-number": "30001000000400002434","section": "all","format": "xml","template": "letter","type": "application/vnd.diverza.cfdi_4.0_complemento+xml","content": "PGNmZGk6Q29tcHJvYmFudGUgRXhwb3J0YWNpb249IjAxIiBMdWdhckV4cGVkaWNpb249IjUyOTM5IiBUaXBvRGVDb21wcm9iYW50ZT0iSSIgTWV0b2RvUGFnbz0iUFVFIiBUb3RhbD0iMC4wMTE2IiBNb25lZGE9Ik1YTiIgVGlwb0NhbWJpbz0iMSIgU3ViVG90YWw9IjAuMDEiIENlcnRpZmljYWRvPSJNSUlGdXpDQ0E2T2dBd0lCQWdJVU16QXdNREV3TURBd01EQTBNREF3TURJME16UXdEUVlKS29aSWh2Y05BUUVMQlFBd2dnRXJNUTh3RFFZRFZRUUREQVpCUXlCVlFWUXhMakFzQmdOVkJBb01KVk5GVWxaSlEwbFBJRVJGSUVGRVRVbE9TVk5VVWtGRFNVOU9JRlJTU1VKVlZFRlNTVUV4R2pBWUJnTlZCQXNNRVZOQlZDMUpSVk1nUVhWMGFHOXlhWFI1TVNnd0pnWUpLb1pJaHZjTkFRa0JGaGx2YzJOaGNpNXRZWEowYVc1bGVrQnpZWFF1WjI5aUxtMTRNUjB3R3dZRFZRUUpEQlF6Y21FZ1kyVnljbUZrWVNCa1pTQmpZV1JwZWpFT01Bd0dBMVVFRVF3Rk1EWXpOekF4Q3pBSkJnTlZCQVlUQWsxWU1Sa3dGd1lEVlFRSURCQkRTVlZFUVVRZ1JFVWdUVVZZU1VOUE1SRXdEd1lEVlFRSERBaERUMWxQUVVOQlRqRVJNQThHQTFVRUxSTUlNaTQxTGpRdU5EVXhKVEFqQmdrcWhraUc5dzBCQ1FJVEZuSmxjM0J2Ym5OaFlteGxPaUJCUTBSTlFTMVRRVlF3SGhjTk1Ua3dOakUzTVRrME5ERTBXaGNOTWpNd05qRTNNVGswTkRFMFdqQ0I0akVuTUNVR0ExVUVBeE1lUlZORFZVVk1RU0JMUlUxUVJWSWdWVkpIUVZSRklGTkJJRVJGSUVOV01TY3dKUVlEVlFRcEV4NUZVME5WUlV4QklFdEZUVkJGVWlCVlVrZEJWRVVnVTBFZ1JFVWdRMVl4SnpBbEJnTlZCQW9USGtWVFExVkZURUVnUzBWTlVFVlNJRlZTUjBGVVJTQlRRU0JFUlNCRFZqRWxNQ01HQTFVRUxSTWNSVXRWT1RBd016RTNNME01SUM4Z1dFbFJRamc1TVRFeE5sRkZOREVlTUJ3R0ExVUVCUk1WSUM4Z1dFbFJRamc1TVRFeE5rMUhVazFhVWpBMU1SNHdIQVlEVlFRTEV4VkZjMk4xWld4aElFdGxiWEJsY2lCVmNtZGhkR1V3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ04wcGVLcGdmT0w3NWlZUnYxZnFxK29WWXNMUFZVUi9HaWJZbUdLYzlJbkhGeTVsWUY2T1RZam5JSXZta09kUm9iYkdsQ1V4T1JYL3RMc2w4WWE5Z202WW83aEhuT0RSQklEdXAzR0lTRnpCLzk2UjlLL016WVFPY3NjTUlvQkRBUmF5Y25Mdnk3RmxNdk83L3JsVm5zU0FSeFpSTzhLejhaa2tzajJ6cGVZcGpaSXlhLzM2OStvR3FRazFjVFJrSG81OUp2SjRUZmJrLzNpSXlmNEgvSW5pOW5CZTljWVdvME1uS29iN0REdC92c2RpNXRBOG1NdEE5NTNMYXBOeUNaSURDUlFRbFVHTmdEcVk5LzhGNW1VdlZna2NjenNJZ0dkdmY5dk1RUFNmM2pqQ2lLajdqNnVjeGwxK0Z3SldtYnZnTm1pYVVSLzBxNG0ycm03OGxGQWdNQkFBR2pIVEFiTUF3R0ExVWRFd0VCL3dRQ01BQXdDd1lEVlIwUEJBUURBZ2JBTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCY3BqMVRqVDRqaWluSXVqSWRBbEZ6RTZrUndZSkNuREcwOHpTcDRrU25TaGp4QURHRVhIMmNoZWhLTVYwRlk3YzRuakE1ZURHZEEvRzJPQ1RQdkY1cnBlQ1pQNUR3NTA0UlprWURsMnN1Unord2Exc05CVnBibkJKRUswZlFjTjNJZnRCd3NnTkZkRmhVdEN5dzNsdXMxU1NKYlB4akxIUzZGY1paNTFZU2VJZmNOWE9BdVRxZGltdXNhWHExNUdyU3JDT2tNNm4yamZqMnNNSllNMkhYYVhKNnJHVEVnWW1oWWR3eFd0aWw2UmZaQitmR1EvSDlJOVdMbmw0S1RaVVM2QzkrTkxIaDRGUERoU2sxOWZwUzJTLzU2YXFnRm9HQWtYQVl0OUZ5NUVDYVBjVUxJZkoxREVic1hLeVJkQ3YzSlk4OSswTU5rT2RhRG5zZW1TMm81R2wwOHpJNGlZdHQzTDQwZ0FaNjBOUGgzMWtWTG5ZTnNtdmZOeFl5S3ArQWVKdERIeVc5dzdmdE0wSG9pK0J1Um1jQVFTS0ZWM3BrOGo1MWxhK2pyUkJyQVV2OGJsYlJjUTVCaVpVd0p6SEZFS0l3VHNSR29SeUV4OTZzTm5CMDNuNkdUd2pJR3o5MlNtTGRObDk1cjlya3ZwKzJtNFM2cTFsUHVYYUZnN0RHQnJYV0M4aXlxZVdFMmlvYmR3SUl1WFBUTVZxUWIxMm0xZEFrSlZSTzVOZEhuUC9NcHFPdk9nTHFvWkJOSEd5Qmc0R3FtNHNDSkhDeEExYzhFbGZhMlJRVENrMHRBemxsTDR2T25JMUdIa0dKbjY1eG9rR3NhVTRCNEQzNnhoN2VXcmZqNC9wZ1dIbXRvREFZYTh3elN3bzJHVkNaT3MrbXRFZ09RQjkxL2c9PSIgTm9DZXJ0aWZpY2Fkbz0iMzAwMDEwMDAwMDA0MDAwMDI0MzQiIEZvcm1hUGFnbz0iMDEiIFNlbGxvPSJSbGR1RC9WZkFDQlZTNFdDUUZTZitrR1pocC9ScnJGbjNZbStDZGJLb1JFMENUNENGQ1laTmlxSFdSRkNNYS92SFBWRzBmTU9pdFFSWWhEYzUxZVlDRFRSREI3c0JMU1Fia0hSd2hPYVJ5a0RBYlhCNEltdEtjV0tQcDI4RDlLSHJ6SFh4TTZWd01OZG8vRmlTckRhbEx0WnFseWpyYk1MTWRaWjFnVmtpSko1YzNxam11WXJEN0xuRnBUOHptTzdYNlZHUEl0WUZnL3dwcUpDOTZlVCtaMWpvT2J3QjAzeEdyK0RLV3gzbVBnQTdpWVJpM3Z6ejJPY2REaDhaMkF1UUtRazNBWTBDNFVMSE1YWlgxTXBTOElHWW5nOHkyRVdlakl2dEJhTFNqbzdpekVqYnk0SHZOMDhZdjVxUzJnSGFUVEdPa2g3OFBGUnR3bU4vbWRORXc9PSIgRmVjaGE9IjIwMjItMDgtMjNUMTA6MjE6NTgiIEZvbGlvPSIxMTkiIFNlcmllPSJBU0NGIiBWZXJzaW9uPSI0LjAiIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL3d3dy5zYXQuZ29iLm14L2NmZC80IGh0dHA6Ly93d3cuc2F0LmdvYi5teC9zaXRpb19pbnRlcm5ldC9jZmQvNC9jZmR2NDAueHNkIiB4bWxuczpjZmRpPSJodHRwOi8vd3d3LnNhdC5nb2IubXgvY2ZkLzQiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxjZmRpOkVtaXNvciBSZmM9IkVLVTkwMDMxNzNDOSIgTm9tYnJlPSJFU0NVRUxBIEtFTVBFUiBVUkdBVEUgU0EgREUgQ1YiIFJlZ2ltZW5GaXNjYWw9IjYwMSIgLz48Y2ZkaTpSZWNlcHRvciBSZmM9IlhBWFgwMTAxMDEwMDAiIE5vbWJyZT0iRk9SRCBDSUEgTU9UT1IgQ09NUEFOWSBDRU5UUkFMIEFDQ09VTlRJTkcgU0VSVklDRVMiIERvbWljaWxpb0Zpc2NhbFJlY2VwdG9yPSI1MjkzOSIgUmVnaW1lbkZpc2NhbFJlY2VwdG9yPSJTMDEiIFVzb0NGREk9IjYxNiIgLz48Y2ZkaTpDb25jZXB0b3M+PGNmZGk6Q29uY2VwdG8gT2JqZXRvSW1wPSIwMiIgSW1wb3J0ZT0iMC4wMSIgVmFsb3JVbml0YXJpbz0iMC4wMSIgRGVzY3JpcGNpb249IlNJTSBDQVJEIFY4IFRSSU8gR1JBTkVMIFVORUZPTiBTSU0gODk1MjAwMDAwMDI1MDIwMTgyMjYiIFVuaWRhZD0iUGllemEiIENsYXZlVW5pZGFkPSJIODciIENhbnRpZGFkPSIxLjAwIiBOb0lkZW50aWZpY2FjaW9uPSI4OTUyMDAwMDAwMjUwMjAxODIyNiIgQ2xhdmVQcm9kU2Vydj0iNDMyMDE0MTUiPjxjZmRpOkltcHVlc3Rvcz48Y2ZkaTpUcmFzbGFkb3M+PGNmZGk6VHJhc2xhZG8gSW1wb3J0ZT0iMC4wMSIgVGFzYU9DdW90YT0iMC4xNjAwMDAiIFRpcG9GYWN0b3I9IlRhc2EiIEltcHVlc3RvPSIwMDIiIEJhc2U9IjAuMDAxNiIgLz48L2NmZGk6VHJhc2xhZG9zPjwvY2ZkaTpJbXB1ZXN0b3M+PC9jZmRpOkNvbmNlcHRvPjwvY2ZkaTpDb25jZXB0b3M+PGNmZGk6SW1wdWVzdG9zIFRvdGFsSW1wdWVzdG9zVHJhc2xhZGFkb3M9IjAuMDAxNiI+PGNmZGk6VHJhc2xhZG9zPjxjZmRpOlRyYXNsYWRvIEltcG9ydGU9IjAuMDEiIFRhc2FPQ3VvdGE9IjAuMTYwMDAwIiBUaXBvRmFjdG9yPSJUYXNhIiBJbXB1ZXN0bz0iMDAyIiBCYXNlPSIwLjAwMTYiIC8+PC9jZmRpOlRyYXNsYWRvcz48L2NmZGk6SW1wdWVzdG9zPjwvY2ZkaTpDb21wcm9iYW50ZT4="}} 
2022-08-23 12:36:59,646 [9] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar con Diverza.  
2022-08-23 12:36:59,647 [9] INFO InvoiceAPI.LoggerManager - App  Info - Request enviado: System.Net.Http.StringContent 
2022-08-23 12:37:00,027 [9] INFO InvoiceAPI.LoggerManager - App  Info - Response recibido: StatusCode: 500, ReasonPhrase: 'Internal Server Error', Version: 1.1, Content: System.Net.Http.HttpConnection+HttpConnectionResponseContent, Headers:
{
  Date: Tue, 23 Aug 2022 17:37:02 GMT
  Server: Cowboy
  Connection: close
  Content-Length: 0
  Content-Type: text/html; charset=UTF-8
} 
2022-08-23 12:37:00,060 [9] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza. Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:37:00,093 [9] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza.    at Newtonsoft.Json.Linq.JObject.Load(JsonReader reader, JsonLoadSettings settings)
   at Newtonsoft.Json.Linq.JObject.Parse(String json, JsonLoadSettings settings)
   at InvoiceAPI.Controllers.InvoicesController.EnvioTimbrarDiverza(ContenidoTimbrarDTO contenidoTimbrar, String usuario) in C:\Users\Administrator\source\repos\InvoiceAPI_4.0_adicion\InvoiceAPI\Controllers\InvoicesController.cs:line 614 
2022-08-23 12:37:00,098 [9] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con LUNA.  
2022-08-23 12:37:02,131 [9] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar el documento con Luna.  
2022-08-23 12:37:05,302 [9] ERROR InvoiceAPI.LoggerManager - App  Error- Ocurrio un error al intentar timbrar el archivo con LUNA. Object reference not set to an instance of an object. 
2022-08-23 12:39:24,795 [24] INFO InvoiceAPI.LoggerManager - App  Usuario que solicita el proceso: admin 
2022-08-23 12:39:28,573 [24] INFO InvoiceAPI.LoggerManager - App  Info - Proceso de digestión el archivo con el número de certificado: 30001000000400002434 
2022-08-23 12:39:38,132 [24] INFO InvoiceAPI.LoggerManager - App  Info - El proceso de digestion fue correcto.  
2022-08-23 12:39:38,136 [24] INFO InvoiceAPI.LoggerManager - App  Info - Búsqueda del comprobante en la base de datos. 
2022-08-23 12:39:38,137 [24] INFO InvoiceAPI.LoggerManager - App  Info - Datos del comprobante. Folio: 119, Número de serie del certificado: 30001000000400002434, rfc: EKU9003173C9, Serie: ASCF 
2022-08-23 12:39:38,140 [24] INFO InvoiceAPI.LoggerManager - App  Antes de pasar valor de Oracle o SQL:  2 
2022-08-23 12:39:38,148 [24] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con Diverza.  
2022-08-23 12:39:40,267 [24] INFO InvoiceAPI.LoggerManager - App  Info - Lo que se enviará al timbrado con Diverza. Usuario: admin. Contenido: {"credentials": {"id":"123414","token": "$2b$12$JgIf1J7db4e6f06VnNPsUOaQD3SpwUnzPqXDkuirQklcc8gMCMIDS" },"issuer": {"rfc": "EKU9003173C9"},"receiver": {"emails": [{"email": "micorreo@hotmail.com","format":"xml+pdf","template": "letter"}]},"document": {"ref-id": "EKU9003173C9ASCF119","certificate-number": "30001000000400002434","section": "all","format": "xml","template": "letter","type": "application/vnd.diverza.cfdi_4.0_complemento+xml","content": "PGNmZGk6Q29tcHJvYmFudGUgRXhwb3J0YWNpb249IjAxIiBMdWdhckV4cGVkaWNpb249IjUyOTM5IiBUaXBvRGVDb21wcm9iYW50ZT0iSSIgTWV0b2RvUGFnbz0iUFVFIiBUb3RhbD0iMC4wMTE2IiBNb25lZGE9Ik1YTiIgVGlwb0NhbWJpbz0iMSIgU3ViVG90YWw9IjAuMDEiIENlcnRpZmljYWRvPSJNSUlGdXpDQ0E2T2dBd0lCQWdJVU16QXdNREV3TURBd01EQTBNREF3TURJME16UXdEUVlKS29aSWh2Y05BUUVMQlFBd2dnRXJNUTh3RFFZRFZRUUREQVpCUXlCVlFWUXhMakFzQmdOVkJBb01KVk5GVWxaSlEwbFBJRVJGSUVGRVRVbE9TVk5VVWtGRFNVOU9JRlJTU1VKVlZFRlNTVUV4R2pBWUJnTlZCQXNNRVZOQlZDMUpSVk1nUVhWMGFHOXlhWFI1TVNnd0pnWUpLb1pJaHZjTkFRa0JGaGx2YzJOaGNpNXRZWEowYVc1bGVrQnpZWFF1WjI5aUxtMTRNUjB3R3dZRFZRUUpEQlF6Y21FZ1kyVnljbUZrWVNCa1pTQmpZV1JwZWpFT01Bd0dBMVVFRVF3Rk1EWXpOekF4Q3pBSkJnTlZCQVlUQWsxWU1Sa3dGd1lEVlFRSURCQkRTVlZFUVVRZ1JFVWdUVVZZU1VOUE1SRXdEd1lEVlFRSERBaERUMWxQUVVOQlRqRVJNQThHQTFVRUxSTUlNaTQxTGpRdU5EVXhKVEFqQmdrcWhraUc5dzBCQ1FJVEZuSmxjM0J2Ym5OaFlteGxPaUJCUTBSTlFTMVRRVlF3SGhjTk1Ua3dOakUzTVRrME5ERTBXaGNOTWpNd05qRTNNVGswTkRFMFdqQ0I0akVuTUNVR0ExVUVBeE1lUlZORFZVVk1RU0JMUlUxUVJWSWdWVkpIUVZSRklGTkJJRVJGSUVOV01TY3dKUVlEVlFRcEV4NUZVME5WUlV4QklFdEZUVkJGVWlCVlVrZEJWRVVnVTBFZ1JFVWdRMVl4SnpBbEJnTlZCQW9USGtWVFExVkZURUVnUzBWTlVFVlNJRlZTUjBGVVJTQlRRU0JFUlNCRFZqRWxNQ01HQTFVRUxSTWNSVXRWT1RBd016RTNNME01SUM4Z1dFbFJRamc1TVRFeE5sRkZOREVlTUJ3R0ExVUVCUk1WSUM4Z1dFbFJRamc1TVRFeE5rMUhVazFhVWpBMU1SNHdIQVlEVlFRTEV4VkZjMk4xWld4aElFdGxiWEJsY2lCVmNtZGhkR1V3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ04wcGVLcGdmT0w3NWlZUnYxZnFxK29WWXNMUFZVUi9HaWJZbUdLYzlJbkhGeTVsWUY2T1RZam5JSXZta09kUm9iYkdsQ1V4T1JYL3RMc2w4WWE5Z202WW83aEhuT0RSQklEdXAzR0lTRnpCLzk2UjlLL016WVFPY3NjTUlvQkRBUmF5Y25Mdnk3RmxNdk83L3JsVm5zU0FSeFpSTzhLejhaa2tzajJ6cGVZcGpaSXlhLzM2OStvR3FRazFjVFJrSG81OUp2SjRUZmJrLzNpSXlmNEgvSW5pOW5CZTljWVdvME1uS29iN0REdC92c2RpNXRBOG1NdEE5NTNMYXBOeUNaSURDUlFRbFVHTmdEcVk5LzhGNW1VdlZna2NjenNJZ0dkdmY5dk1RUFNmM2pqQ2lLajdqNnVjeGwxK0Z3SldtYnZnTm1pYVVSLzBxNG0ycm03OGxGQWdNQkFBR2pIVEFiTUF3R0ExVWRFd0VCL3dRQ01BQXdDd1lEVlIwUEJBUURBZ2JBTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCY3BqMVRqVDRqaWluSXVqSWRBbEZ6RTZrUndZSkNuREcwOHpTcDRrU25TaGp4QURHRVhIMmNoZWhLTVYwRlk3YzRuakE1ZURHZEEvRzJPQ1RQdkY1cnBlQ1pQNUR3NTA0UlprWURsMnN1Unord2Exc05CVnBibkJKRUswZlFjTjNJZnRCd3NnTkZkRmhVdEN5dzNsdXMxU1NKYlB4akxIUzZGY1paNTFZU2VJZmNOWE9BdVRxZGltdXNhWHExNUdyU3JDT2tNNm4yamZqMnNNSllNMkhYYVhKNnJHVEVnWW1oWWR3eFd0aWw2UmZaQitmR1EvSDlJOVdMbmw0S1RaVVM2QzkrTkxIaDRGUERoU2sxOWZwUzJTLzU2YXFnRm9HQWtYQVl0OUZ5NUVDYVBjVUxJZkoxREVic1hLeVJkQ3YzSlk4OSswTU5rT2RhRG5zZW1TMm81R2wwOHpJNGlZdHQzTDQwZ0FaNjBOUGgzMWtWTG5ZTnNtdmZOeFl5S3ArQWVKdERIeVc5dzdmdE0wSG9pK0J1Um1jQVFTS0ZWM3BrOGo1MWxhK2pyUkJyQVV2OGJsYlJjUTVCaVpVd0p6SEZFS0l3VHNSR29SeUV4OTZzTm5CMDNuNkdUd2pJR3o5MlNtTGRObDk1cjlya3ZwKzJtNFM2cTFsUHVYYUZnN0RHQnJYV0M4aXlxZVdFMmlvYmR3SUl1WFBUTVZxUWIxMm0xZEFrSlZSTzVOZEhuUC9NcHFPdk9nTHFvWkJOSEd5Qmc0R3FtNHNDSkhDeEExYzhFbGZhMlJRVENrMHRBemxsTDR2T25JMUdIa0dKbjY1eG9rR3NhVTRCNEQzNnhoN2VXcmZqNC9wZ1dIbXRvREFZYTh3elN3bzJHVkNaT3MrbXRFZ09RQjkxL2c9PSIgTm9DZXJ0aWZpY2Fkbz0iMzAwMDEwMDAwMDA0MDAwMDI0MzQiIEZvcm1hUGFnbz0iMDEiIFNlbGxvPSJSbGR1RC9WZkFDQlZTNFdDUUZTZitrR1pocC9ScnJGbjNZbStDZGJLb1JFMENUNENGQ1laTmlxSFdSRkNNYS92SFBWRzBmTU9pdFFSWWhEYzUxZVlDRFRSREI3c0JMU1Fia0hSd2hPYVJ5a0RBYlhCNEltdEtjV0tQcDI4RDlLSHJ6SFh4TTZWd01OZG8vRmlTckRhbEx0WnFseWpyYk1MTWRaWjFnVmtpSko1YzNxam11WXJEN0xuRnBUOHptTzdYNlZHUEl0WUZnL3dwcUpDOTZlVCtaMWpvT2J3QjAzeEdyK0RLV3gzbVBnQTdpWVJpM3Z6ejJPY2REaDhaMkF1UUtRazNBWTBDNFVMSE1YWlgxTXBTOElHWW5nOHkyRVdlakl2dEJhTFNqbzdpekVqYnk0SHZOMDhZdjVxUzJnSGFUVEdPa2g3OFBGUnR3bU4vbWRORXc9PSIgRmVjaGE9IjIwMjItMDgtMjNUMTA6MjE6NTgiIEZvbGlvPSIxMTkiIFNlcmllPSJBU0NGIiBWZXJzaW9uPSI0LjAiIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL3d3dy5zYXQuZ29iLm14L2NmZC80IGh0dHA6Ly93d3cuc2F0LmdvYi5teC9zaXRpb19pbnRlcm5ldC9jZmQvNC9jZmR2NDAueHNkIiB4bWxuczpjZmRpPSJodHRwOi8vd3d3LnNhdC5nb2IubXgvY2ZkLzQiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxjZmRpOkVtaXNvciBSZmM9IkVLVTkwMDMxNzNDOSIgTm9tYnJlPSJFU0NVRUxBIEtFTVBFUiBVUkdBVEUgU0EgREUgQ1YiIFJlZ2ltZW5GaXNjYWw9IjYwMSIgLz48Y2ZkaTpSZWNlcHRvciBSZmM9IlhBWFgwMTAxMDEwMDAiIE5vbWJyZT0iRk9SRCBDSUEgTU9UT1IgQ09NUEFOWSBDRU5UUkFMIEFDQ09VTlRJTkcgU0VSVklDRVMiIERvbWljaWxpb0Zpc2NhbFJlY2VwdG9yPSI1MjkzOSIgUmVnaW1lbkZpc2NhbFJlY2VwdG9yPSJTMDEiIFVzb0NGREk9IjYxNiIgLz48Y2ZkaTpDb25jZXB0b3M+PGNmZGk6Q29uY2VwdG8gT2JqZXRvSW1wPSIwMiIgSW1wb3J0ZT0iMC4wMSIgVmFsb3JVbml0YXJpbz0iMC4wMSIgRGVzY3JpcGNpb249IlNJTSBDQVJEIFY4IFRSSU8gR1JBTkVMIFVORUZPTiBTSU0gODk1MjAwMDAwMDI1MDIwMTgyMjYiIFVuaWRhZD0iUGllemEiIENsYXZlVW5pZGFkPSJIODciIENhbnRpZGFkPSIxLjAwIiBOb0lkZW50aWZpY2FjaW9uPSI4OTUyMDAwMDAwMjUwMjAxODIyNiIgQ2xhdmVQcm9kU2Vydj0iNDMyMDE0MTUiPjxjZmRpOkltcHVlc3Rvcz48Y2ZkaTpUcmFzbGFkb3M+PGNmZGk6VHJhc2xhZG8gSW1wb3J0ZT0iMC4wMSIgVGFzYU9DdW90YT0iMC4xNjAwMDAiIFRpcG9GYWN0b3I9IlRhc2EiIEltcHVlc3RvPSIwMDIiIEJhc2U9IjAuMDAxNiIgLz48L2NmZGk6VHJhc2xhZG9zPjwvY2ZkaTpJbXB1ZXN0b3M+PC9jZmRpOkNvbmNlcHRvPjwvY2ZkaTpDb25jZXB0b3M+PGNmZGk6SW1wdWVzdG9zIFRvdGFsSW1wdWVzdG9zVHJhc2xhZGFkb3M9IjAuMDAxNiI+PGNmZGk6VHJhc2xhZG9zPjxjZmRpOlRyYXNsYWRvIEltcG9ydGU9IjAuMDEiIFRhc2FPQ3VvdGE9IjAuMTYwMDAwIiBUaXBvRmFjdG9yPSJUYXNhIiBJbXB1ZXN0bz0iMDAyIiBCYXNlPSIwLjAwMTYiIC8+PC9jZmRpOlRyYXNsYWRvcz48L2NmZGk6SW1wdWVzdG9zPjwvY2ZkaTpDb21wcm9iYW50ZT4="}} 
2022-08-23 12:39:40,273 [24] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar con Diverza.  
2022-08-23 12:39:40,275 [24] INFO InvoiceAPI.LoggerManager - App  Info - Request enviado: System.Net.Http.StringContent 
2022-08-23 12:39:40,622 [24] INFO InvoiceAPI.LoggerManager - App  Info - Response recibido: StatusCode: 500, ReasonPhrase: 'Internal Server Error', Version: 1.1, Content: System.Net.Http.HttpConnection+HttpConnectionResponseContent, Headers:
{
  Date: Tue, 23 Aug 2022 17:39:42 GMT
  Server: Cowboy
  Connection: close
  Content-Length: 0
  Content-Type: text/html; charset=UTF-8
} 
2022-08-23 12:39:40,639 [24] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza. Error reading JObject from JsonReader. Path '', line 0, position 0. 
2022-08-23 12:39:40,640 [24] ERROR InvoiceAPI.LoggerManager - App  Error - Ocurrio un error al intentar timbrar el archivo con Diverza.    at Newtonsoft.Json.Linq.JObject.Load(JsonReader reader, JsonLoadSettings settings)
   at Newtonsoft.Json.Linq.JObject.Parse(String json, JsonLoadSettings settings)
   at InvoiceAPI.Controllers.InvoicesController.EnvioTimbrarDiverza(ContenidoTimbrarDTO contenidoTimbrar, String usuario) in C:\Users\Administrator\source\repos\InvoiceAPI_4.0_adicion\InvoiceAPI\Controllers\InvoicesController.cs:line 614 
2022-08-23 12:39:40,645 [24] INFO InvoiceAPI.LoggerManager - App  Prepara el envío para timbrar con LUNA.  
2022-08-23 12:39:42,775 [24] INFO InvoiceAPI.LoggerManager - App  Info - Envío a timbrar el documento con Luna.  
2022-08-23 12:39:45,953 [24] ERROR InvoiceAPI.LoggerManager - App  Error- Ocurrio un error al intentar timbrar el archivo con LUNA. Object reference not set to an instance of an object. 
